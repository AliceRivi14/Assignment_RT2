<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Assignment_RT2: README</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Assignment_RT2
   </div>
   <div id="projectbrief">Final assignment of RT1 course with the Doxygen documentation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">README </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="autotoc_md1"></a>
Assignment3</h1>
<h1><a class="anchor" id="autotoc_md2"></a>
Software architecture for the control of a mobile robot.</h1>
<p>This is software architecture for the control of the robot in the environment developed by <a href="https://studentrobotics.org">Student Robotics</a> in ROS. The software will rely on the move_base and gmapping packages for localizing the robot and plan the motion.</p>
<p>The architecture is able to get the user request, and let the robot execute one of the following behaviors (depending on the user’s input):</p><ol type="1">
<li>autonomously reach a (x,y) coordinate inserted by the user</li>
<li>let the user drive the robot with the keyboard</li>
<li>let the user drive the robot assisting them to avoid collisions</li>
</ol>
<h2><a class="anchor" id="autotoc_md3"></a>
Installing and running</h2>
<p>In a terminal type the following commands: </p><div class="fragment"><div class="line">$ sudo apt-get install ros-&lt;your_ros_distro&gt;-navigation</div>
<div class="line">$ sudo apt-get install ros-&lt;your_ros_distro&gt;-teleop-twist-keyboard</div>
<div class="line">$ mkdir -p ROS_ws/src</div>
<div class="line">$ cd ROS_ws/src</div>
<div class="line">$ git clone https://github.com/CarmineD8/slam_gmapping.git</div>
<div class="line">$ git clone https://github.com/AliceRivi14/Assignment3.git</div>
<div class="line">$ cd ..</div>
<div class="line">$ catkin_make</div>
</div><!-- fragment --><p>Add the line <code>‘source [ws_path]/devel/setup.bash’</code> in your <code>.bashrc</code> file.</p>
<p>To run the simulation, open two different terminal and type: </p><div class="fragment"><div class="line">$ roslaunch final_assignment simulation_gmapping</div>
</div><!-- fragment --><div class="fragment"><div class="line">$ roslaunch final_assignment move_base</div>
</div><!-- fragment --><p>Make sure the Rviz interface looks like the following:</p>
<p><img src="https://user-images.githubusercontent.com/92019811/149586465-a418ae18-c543-4433-b47c-721677244ab7.png" alt="Screenshot from 2022-01-14 12-00-35" class="inline"/></p>
<p>To run the node for this project, open another terminal and type: </p><div class="fragment"><div class="line">$ roslaunch final_assignment assignment</div>
</div><!-- fragment --><p>Now you can see the robot in the environment of Rviz and Gazebo.</p>
<h2><a class="anchor" id="autotoc_md4"></a>
Lauch file</h2>
<h3><a class="anchor" id="autotoc_md5"></a>
Simulation_gmapping</h3>
<p>The simulation_gmapping.launch file allows:</p><ul>
<li>Add the description of the robot to the ROS parameter server</li>
<li>Launch the simulation in Gazebo</li>
<li>Launch the Rviz node, along with some additional nodes</li>
<li>Generate the robot in the simulation</li>
</ul>
<h3><a class="anchor" id="autotoc_md6"></a>
Move_base</h3>
<p>The move_base.launch file allows:</p><ul>
<li>Launch the move_base node</li>
<li>Set the rosparam described in the .yaml file</li>
</ul>
<h3><a class="anchor" id="autotoc_md7"></a>
Assignment</h3>
<p>The assignment.launch file allows:</p><ul>
<li>Launch the UI, MODE1, MODE2 and MODE3 nodes</li>
</ul>
<h2><a class="anchor" id="autotoc_md8"></a>
Nodes</h2>
<h3><a class="anchor" id="autotoc_md9"></a>
Rviz node</h3>
<p>When launching Rviz, three nodes are actually executed:</p>
<ul>
<li><code>joint_state_publisher</code>: the package reads the robot_description parameter from the parameter server, finds all of the non-fixed joints and publishes a JointState message with all those joints defined. If GUI is present, the package displays the joint positions in a window as sliders.</li>
<li><code>robot_state_publisher</code>: the package uses the URDF specified by the parameter robot_description and the joint positions from the topic joint_states to calculate the forward kinematics of the robot and publish the results via <code>tf</code>.</li>
<li><code>rviz</code></li>
</ul>
<h3><a class="anchor" id="autotoc_md10"></a>
Slam_gmapping node</h3>
<p>This ROS node is contained in the <code>gmapping</code> package and provides laser-based SLAM (Simultaneous Localization and Mapping). Using <code>slam_gmapping</code>, you can create a 2-D occupancy grid map from laser and pose data collected by a mobile robot. To use <code>slam_gmapping</code>, you need a mobile robot that provides odometry data and is equipped with a horizontally-mounted, fixed, laser range-finder. The <code>slam_gmapping</code> node will attempt to transform each incoming scan into the <code>odom (odometry) tf</code> frame.</p>
<p>The <code>slam_gmapping</code> node takes in <code>sensor_msgs/LaserScan</code> messages and builds a map (<code>nav_msgs/OccupancyGrid</code>). The map can be retrieved via a ROS topic or service.</p>
<p>Subscriber:</p><ul>
<li><code>tf (tf/tfMessage)</code>: transforms necessary to relate frames for laser, base, and odometry.</li>
<li><code>scan (sensor_msgs/LaserScan)</code>: laser scans to create the map.</li>
</ul>
<p>Publisher:</p><ul>
<li><code>map_metadata (nav_msgs/MapMetaData)</code>: get the map data from this topic, which is latched, and updated periodically.</li>
<li><code>map (nav_msgs/OccupancyGrid)</code>: get the map data from this topic, which is latched, and updated periodically.</li>
<li><code>~entropy (std_msgs/Float64)</code>: estimate of the entropy of the distribution over the robot's pose (a higher value indicates greater uncertainty). New in 1.1.0.</li>
</ul>
<p>Parameters:</p>
<p>The values of these parameters are set according to this project. (To verify the default parameters, please refer to the website <a href="http://wiki.ros.org/gmapping">http://wiki.ros.org/gmapping</a>)</p>
<ul>
<li><code>~base_frame (string, value: "link_chassis")</code>: the frame attached to the mobile base.</li>
<li><code>~map_update_interval (float, value: 5.0)</code>: how long (in seconds) between updates to the map. Lowering this number updates the occupancy grid more often, at the expense of greater computational load.</li>
<li><code>~maxUrange (float, value: 16.0)</code>: the maximum usable range of the laser. A beam is cropped to this value.</li>
<li><code>~sigma (float, default: 0.05)</code>: the sigma used by the greedy endpoint matching.</li>
<li><code>~kernelSize (int, value: 1)</code>: the kernel in which to look for a correspondence.</li>
<li><code>~lstep (float, value: 0.05)</code>: the optimization step in translation.</li>
<li><code>~astep (float, value: 0.03)</code>: the optimization step in rotation.</li>
<li><code>~iterations (int, default: 3)</code>: the number of iterations of the scanmatcher.</li>
<li><code>~lsigma (float, value: 0.075)</code>: the sigma of a beam used for likelihood computation.</li>
<li><code>~ogain (float, value: 3.0)</code>: gain to be used while evaluating the likelihood, for smoothing the resampling effects.</li>
<li><code>~lskip (int, value: 0)</code>: number of beams to skip in each scan. Take only every (n+1)th laser ray for computing a match (0 = take all rays).</li>
<li><code>~srr (float, value: 0.1)</code>: odometry error in translation as a function of translation (rho/rho).</li>
<li><code>~srt (float, value: 0.1)</code>: odometry error in translation as a function of rotation (rho/theta).</li>
<li><code>~str (float, value: 0.1)</code>: odometry error in rotation as a function of translation (theta/rho).</li>
<li><code>~stt (float, value: 0.1)</code>: odometry error in rotation as a function of rotation (theta/theta).</li>
<li><code>~linearUpdate (float, value: 1.0)</code>: process a scan each time the robot translates this far.</li>
<li><code>~angularUpdate (float, value: 0.2)</code>: process a scan each time the robot rotates this far.</li>
<li><code>~temporalUpdate (float, value: 3.0)</code>: process a scan if the last scan processed is older than the update time in seconds. A value less than zero will turn time based updates off.</li>
<li><code>~resampleThreshold (float, value: 0.5)</code>: the Neff based resampling threshold.</li>
<li><code>~particles (int, value: 20)</code>: number of particles in the filter.</li>
<li><code>~xmin (float, value: -50.0)</code>: initial map size (in metres).</li>
<li><code>~ymin (float, value: -50.0)</code>: initial map size (in metres).</li>
<li><code>~xmax (float, value: 50.0)</code>: initial map size (in metres).</li>
<li><code>~ymax (float, value: 50.0)</code>: initial map size (in metres).</li>
<li><code>~delta (float, value: 0.05)</code>: resolution of the map (in metres per occupancy grid block).</li>
<li><code>~llsamplerange (float, value: 0.01)</code>: translational sampling range for the likelihood.</li>
<li><code>~llsamplestep (float, value: 0.01)</code>: translational sampling step for the likelihood.</li>
<li><code>~lasamplerange (float, value: 0.005)</code>: angular sampling range for the likelihood.</li>
<li><code>~lasamplestep (float, value: 0.005)</code>: angular sampling step for the likelihood.</li>
<li><code>~transform_publish_period (float, value: 0.0005)</code>:how long (in seconds) between transform publications. To disable broadcasting transforms, set to 0.</li>
</ul>
<h3><a class="anchor" id="autotoc_md11"></a>
Move_base node</h3>
<p>The <code>move_base</code> package provides an implementation of an action that, given a goal in the world, will attempt to reach it with a mobile base. Actions are services which are not executed atomically, and thus may also offer some additional tools, such as a continuous feedback and the possibility of cancel the request. For the purpose of this project the publish/subscribe architecture will be used for using actions, by sending a message on the topic <code>move_base/goal</code>.</p>
<p>Subscriber:</p><ul>
<li><code>move_base/goal (move_base_msgs/MoveBaseActionGoal)</code>: a goal for move_base to pursue in the world.</li>
</ul>
<p>Publisher:</p><ul>
<li><code>cmd_vel (geometry_msgs/Twist)</code>: a stream of velocity commands meant for execution by a mobile base.</li>
</ul>
<h3><a class="anchor" id="autotoc_md12"></a>
MODE1 node</h3>
<p>This node represents the first mode that the user can choose. Through this code the user is asked what is the (x,y) position he wants the robot to reach. Once the coordinates have been selected, the robot is guided to the desired position, avoiding obstacles.</p>
<p>This node provides an implementation of an action which, given a position goal, will attempt to reach it. If the position is not reached within a certain time (30 seconds), the goal is cancelled.</p>
<h3><a class="anchor" id="autotoc_md13"></a>
MODE2 node</h3>
<p>This node represents the second mode that the user can choose. Through this code the user can guide the robot within the environment using the keyboard.</p>
<p>In order to be able to move the robot via the keyboard, it may be useful to exploit the keyboard teleop program. The code of the <code>teleop_twist_keyboard.cpp</code> node has been copied into the MODE2 node and adapted to the needs of the project.</p>
<p>Publisher:</p><ul>
<li><code>cmd_vel (geometry_msgs/Twist)</code>: a stream of velocity commands meant for execution by a mobile base.</li>
</ul>
<p>This node has 2 functions:</p>
<ul>
<li><p class="startli"><code>int <a class="el" href="_m_o_d_e3_8cpp.html#af5978fab9fa6dd4ced1c3a8ab1251f7b">getch(void)</a></code>:</p>
<p class="startli">manages user-generated keyboard inputs by preventing them from blocking.</p>
</li>
<li><p class="startli"><code>void <a class="el" href="_m_o_d_e2_8cpp.html#afef03081108b5ffbbf11854a62083891">Teleop()</a></code>:</p>
<p class="startli">allows the robot to move according to commands given by the user.</p>
</li>
</ul>
<p>When the node is activated, a message is printed on the screen indicating which commands are to be used to move the robot.</p>
<div class="fragment"><div class="line">Reading from the keyboard and Publishing to Twist!</div>
<div class="line">  ---------------------------</div>
<div class="line">  Moving around:</div>
<div class="line">     u    i    o</div>
<div class="line">     j    k    l</div>
<div class="line">     m    ,    .</div>
<div class="line">  For Holonomic mode (strafing), hold down the shift key:</div>
<div class="line">  ---------------------------</div>
<div class="line">     U    I    O</div>
<div class="line">     J    K    L</div>
<div class="line">     M    &lt;    &gt;</div>
<div class="line">  t : up (+z)</div>
<div class="line">  b : down (-z)</div>
<div class="line">  anything else : stop</div>
<div class="line">  q/z : increase/decrease max speeds by 10%</div>
<div class="line">  w/x : increase/decrease only linear speed by 10%</div>
<div class="line">  e/c : increase/decrease only angular speed by 10%</div>
<div class="line">  CTRL-C to quit</div>
</div><!-- fragment --><p>The commands for moving the robot are as follows:</p>
<p><code>u</code> to turn left</p>
<p><code>i</code> to go straight ahead</p>
<p><code>o</code> to turn right</p>
<p><code>j</code> to turn counterclockwise</p>
<p><code>k</code> to stop</p>
<p><code>l</code> to turn clockwise</p>
<p><code>m</code> to turn left going backwards</p>
<p><code>,</code> to go straight back</p>
<p><code>.</code> to turn right going backwards</p>
<p>The other commands described in the message can be used to change the speed of the robot.</p>
<h3><a class="anchor" id="autotoc_md14"></a>
MODE3 node</h3>
<p>This node represents the third mode that the user can choose. Through this code the user can guide the robot through the environment using the keyboard and is helped to avoid collisions with obstacles.</p>
<p>Also in this case in order to be able to move the robot via the keyboard, it may be useful to exploit the keyboard teleop program. The code of the <code>teleop_twist_keyboard.cpp</code> node has been copied into the MODE3 node and adapted to the needs of the project.</p>
<p>Publisher:</p><ul>
<li><code>cmd_vel (geometry_msgs/Twist)</code>: a stream of velocity commands meant for execution by a mobile base.</li>
</ul>
<p>Subscriber:</p><ul>
<li><code>scan (sensor_msgs/LaserScan)</code>: laser scans to create the map.</li>
</ul>
<p>This node has 4 functions:</p>
<ul>
<li><p class="startli"><code>int <a class="el" href="_m_o_d_e3_8cpp.html#af5978fab9fa6dd4ced1c3a8ab1251f7b">getch(void)</a></code>:</p>
<p class="startli">manages user-generated keyboard inputs by preventing them from blocking.</p>
</li>
<li><p class="startli"><code>float <a class="el" href="_m_o_d_e3_8cpp.html#a00c3757057497a8569498b69523b4a1f">RobotDistance(int min, int max, float dist_obs[])</a></code> in which:</p>
<p class="startli"><code>min</code>: minimum index of the subsection of the array that we want to analyze.</p>
<p class="startli"><code>max</code>: maximum index of the subsection of the array that we want to analyze.</p>
<p class="startli"><code>dist_obs[]</code>: array wich contains 720 elements wich are the distance of the obstacles from the robot.</p>
<p class="startli"><code>dist_value</code>: minimun distance from an obstacle in the subsection of the array.</p>
<p class="startli">It is possible to use the ranges vector to see robot distance from the wall.</p>
</li>
<li><p class="startli"><code>void <a class="el" href="_m_o_d_e3_8cpp.html#ae7695cae164b64ed66955d492df054ca">LaserCallback(const sensor_msgs::LaserScan::ConstPtr&amp; scan)</a></code>:</p>
<p class="startli">is called when a message is posted on the /scan topic.</p>
<p class="startli">The robot can see with a field of 180° in front of him and this field (in radiants) is divided in 720 section.</p>
<p class="startli">With this function the velocity is published on the /cmd_vel topic and with the control algorithm it possible to determine the evolution of the robot based on the distance.</p>
</li>
<li><p class="startli"><code>void <a class="el" href="_m_o_d_e2_8cpp.html#afef03081108b5ffbbf11854a62083891">Teleop()</a></code>:</p>
<p class="startli">allows the robot to move according to commands given by the user. <br  />
</p>
</li>
</ul>
<p>When the node is activated, the same message as for the MODE2 node is printed on the screen indicating which commands are to be used to move the robot.</p>
<h3><a class="anchor" id="autotoc_md15"></a>
UI node</h3>
<p>The UI node represents the project’s user interface. This node constantly waits for an input from the user, who can ask which mode you want to run based on the robot’s behavior.</p>
<p>This node has 1 function:</p>
<ul>
<li><p class="startli"><code>bool <a class="el" href="_u_i_8cpp.html#a88695df57cbdf95c2c4e8caf7eea409d">MODE()</a></code>:</p>
<p class="startli">print a integer request message and return the integer given in input by the user.</p>
</li>
</ul>
<h2><a class="anchor" id="autotoc_md16"></a>
Pseudocode</h2>
<h3><a class="anchor" id="autotoc_md17"></a>
MODE1</h3>
<div class="fragment"><div class="line">int main (){</div>
<div class="line">  initializing MODE1_node and the NodeHandle</div>
<div class="line">  definition of actionclient</div>
<div class="line"> </div>
<div class="line">  while ros is ok</div>
<div class="line">      active Mode 1</div>
<div class="line">      if Mode 1 is actived</div>
<div class="line">        print a two floats request message and return the floats given in input by the user</div>
<div class="line">        if user type 00 00</div>
<div class="line">            returt to the user interface</div>
<div class="line">        else</div>
<div class="line">            set and send the goal</div>
<div class="line"> </div>
<div class="line">        if the position is reached before 30 sec</div>
<div class="line">            print &quot;Position reached before the timeout&quot;</div>
<div class="line">        else</div>
<div class="line">            print &quot;Position not reached before timeout&quot;</div>
<div class="line">            cancel goal</div>
<div class="line">      else</div>
<div class="line">        continue</div>
<div class="line"> </div>
<div class="line">}</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md18"></a>
MODE2</h3>
<div class="fragment"><div class="line">Define movement keys</div>
<div class="line">Define speed keys</div>
<div class="line">Define the reminder message</div>
<div class="line"> </div>
<div class="line">int getch(){</div>
<div class="line">    wait and get user input</div>
<div class="line">    prevent input blocking</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">void Teleop(){</div>
<div class="line">    print the reminder message</div>
<div class="line"> </div>
<div class="line">    while true</div>
<div class="line">        get the pressed input</div>
<div class="line">        if the input corresponds to a key in the movement key</div>
<div class="line">            grab the direction data</div>
<div class="line">        else if the input corresponds to a key in the speed key</div>
<div class="line">            grab the speed data</div>
<div class="line">        else</div>
<div class="line">            stop the robot</div>
<div class="line">            if ctrl-c is typed</div>
<div class="line">                return to the user interface</div>
<div class="line"> </div>
<div class="line">        set the velocity        </div>
<div class="line"> </div>
<div class="line">        publish the velocity message on /cmd_vel topic</div>
<div class="line">}  </div>
<div class="line"> </div>
<div class="line">int main(){</div>
<div class="line">    initializing MODE2_node and the NodeHandle</div>
<div class="line">    definition of publisher</div>
<div class="line"> </div>
<div class="line">    while ros is ok</div>
<div class="line">        active Mode 2</div>
<div class="line">        if the Mode 2 is actived</div>
<div class="line">            move the robot</div>
<div class="line">        else</div>
<div class="line">            continue</div>
<div class="line"> </div>
<div class="line">}</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md19"></a>
MODE3</h3>
<div class="fragment"><div class="line">Define movement keys</div>
<div class="line">Define speed keys</div>
<div class="line">Define the reminder message</div>
<div class="line"> </div>
<div class="line">int getch(){</div>
<div class="line">    wait and get user input</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">float RobotDistance(min, max, dist_obs[]){</div>
<div class="line">  calculate the minimum distance from an obstacle in a range of 720 elements</div>
<div class="line">  return the distant value</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">void LaserCallback(scan){</div>
<div class="line">  calculate the min distance of the robot from the wall in the right, front-right,front, front-left and left position with the function RobotDistance</div>
<div class="line"> </div>
<div class="line">  if there is obstacles in the front of the robot</div>
<div class="line">    stop the robot</div>
<div class="line">  else if there is obstacles in front and right of the robot</div>
<div class="line">    turn the robot on the left</div>
<div class="line">  else if there is obstacles in front and left of the robot</div>
<div class="line">    turn the robot on the right</div>
<div class="line">  else</div>
<div class="line">    go the robot forward</div>
<div class="line"> </div>
<div class="line">  publish the velocity message on /cmd_vel topic</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">void Teleop(){</div>
<div class="line">    print the reminder message</div>
<div class="line"> </div>
<div class="line">    while true</div>
<div class="line">        get the pressed input</div>
<div class="line">        if the input corresponds to a key in the movement key</div>
<div class="line">            grab the direction data</div>
<div class="line">        else if the input corresponds to a key in the speed key</div>
<div class="line">            grab the speed data</div>
<div class="line">        else</div>
<div class="line">            stop the robot</div>
<div class="line">            if ctrl-c is typed</div>
<div class="line">                return to the user interface</div>
<div class="line"> </div>
<div class="line">        set the velocity</div>
<div class="line"> </div>
<div class="line">        publish the velocity message on /cmd_vel topic</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">int main(){</div>
<div class="line">    initializing MODE3_node and the NodeHandle</div>
<div class="line">    definition of subscriber and publisher</div>
<div class="line"> </div>
<div class="line">    while ros is ok</div>
<div class="line">        active Mode 3</div>
<div class="line">        if the Mode 3 is actived</div>
<div class="line">            move the robot</div>
<div class="line">        else</div>
<div class="line">            continue</div>
<div class="line"> </div>
<div class="line">}</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md20"></a>
UI_node</h3>
<div class="fragment"><div class="line">bool MODE(){</div>
<div class="line">  print a integer request message and return the integer given in input by the user</div>
<div class="line"> </div>
<div class="line">  if the input is 1</div>
<div class="line">    execute mode 1</div>
<div class="line">  else if the input is 2</div>
<div class="line">    execute mode 2</div>
<div class="line">  else if the input is 3</div>
<div class="line">    execute mode 3</div>
<div class="line">   else</div>
<div class="line">    pint &quot;ERROR!&quot;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">int main (){</div>
<div class="line">  initializing UI_node and the NodeHandle</div>
<div class="line"> </div>
<div class="line">  while ros is ok</div>
<div class="line">    active Mode 0 (user interface)</div>
<div class="line">    if Mode 0 is actived</div>
<div class="line">        chose the mode to control the robot</div>
<div class="line">    else</div>
<div class="line">        continue</div>
<div class="line"> </div>
<div class="line">}</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md21"></a>
Possible improvements</h2>
<p>Although the project works quite well, I think some improvements could be made:</p>
<ul>
<li>The user is asked to wait 30 seconds before setting a new goal. You could ask the user to set the next goal while waiting and implement an array in which to collect the goals so that they are reached sequentially.</li>
<li>A set of points representing the limit of the area in which the robot can move could be set, so that if unreachable positions are entered the user is informed immediately.</li>
<li>When a goal is set, the robot moves forward and determines the path to reach it. The vision range of the robot could be extended so that if the goal is behind the robot, the robot can turn around and reach the position. </li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
