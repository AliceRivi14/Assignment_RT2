\hypertarget{_m_o_d_e2_8cpp}{}\doxysection{assignment/src/\+M\+O\+D\+E2.cpp File Reference}
\label{_m_o_d_e2_8cpp}\index{assignment/src/MODE2.cpp@{assignment/src/MODE2.cpp}}


Node to drive the robot with the keyboard.  


{\ttfamily \#include \char`\"{}ros/ros.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}geometry\+\_\+msgs/\+Twist.\+h\char`\"{}}\newline
{\ttfamily \#include $<$stdio.\+h$>$}\newline
{\ttfamily \#include $<$unistd.\+h$>$}\newline
{\ttfamily \#include $<$termios.\+h$>$}\newline
{\ttfamily \#include $<$map$>$}\newline
Include dependency graph for M\+O\+D\+E2.\+cpp\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{_m_o_d_e2_8cpp__incl}
\end{center}
\end{figure}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
float \mbox{\hyperlink{_m_o_d_e2_8cpp_a0c412d48ccdce40e00c45eae6a90f28a}{speed}} (0.\+5)
\item 
float \mbox{\hyperlink{_m_o_d_e2_8cpp_addb83adac8170dcb113acaf93aeccf82}{turn}} (1.\+0)
\item 
float \mbox{\hyperlink{_m_o_d_e2_8cpp_a58456ccdd2b0d0e7ebb96c0a2ec7ec6f}{x}} (0)
\item 
float \mbox{\hyperlink{_m_o_d_e2_8cpp_a2795aa30f97a85f1d013e24f6292a51e}{y}} (0)
\item 
float \mbox{\hyperlink{_m_o_d_e2_8cpp_aec5d3cf4e6cb26ab7be21502b97087c9}{z}} (0)
\item 
float \mbox{\hyperlink{_m_o_d_e2_8cpp_ad5ac4dec8b4343953b42a1e86edb874e}{th}} (0)
\item 
char \mbox{\hyperlink{_m_o_d_e2_8cpp_a707311ac31b1d2e00c843eae201a6536}{key}} (\textquotesingle{} \textquotesingle{})
\begin{DoxyCompactList}\small\item\em Character. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{_m_o_d_e2_8cpp_af5978fab9fa6dd4ced1c3a8ab1251f7b}{getch}} (void)
\item 
void \mbox{\hyperlink{_m_o_d_e2_8cpp_afef03081108b5ffbbf11854a62083891}{Teleop}} ()
\item 
int \mbox{\hyperlink{_m_o_d_e2_8cpp_a3c04138a5bfe5d72780bb7e82a18e627}{main}} (int argc, char $\ast$$\ast$argv)
\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
ros\+::\+Publisher \mbox{\hyperlink{_m_o_d_e2_8cpp_a350594df3e8f6948c8462edfd41ce086}{pub}}
\item 
std\+::map$<$ char, std\+::vector$<$ float $>$ $>$ \mbox{\hyperlink{_m_o_d_e2_8cpp_a91023ea7582580513b585f7b4c15f7d8}{move\+Bindings}}
\begin{DoxyCompactList}\small\item\em $<$ Matrix for movement \end{DoxyCompactList}\item 
std\+::map$<$ char, std\+::vector$<$ float $>$ $>$ \mbox{\hyperlink{_m_o_d_e2_8cpp_a942d4f1c3e151d6f264d0868766b08b0}{speed\+Bindings}}
\begin{DoxyCompactList}\small\item\em $<$ Matrix for speed \end{DoxyCompactList}\item 
const char $\ast$ \mbox{\hyperlink{_m_o_d_e2_8cpp_a2c3cb87d009c003069b9a90f020f8a9f}{msg}}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Node to drive the robot with the keyboard. 

\begin{DoxyAuthor}{Author}
Alice Rivi
\end{DoxyAuthor}
\begin{DoxyVersion}{Version}
0.\+1
\end{DoxyVersion}
\begin{DoxyDate}{Date}
18/03/2022
\end{DoxyDate}
Publishes\+: ~\newline
 Â°/cmd\+\_\+vel

Description\+: Through this code the user can guide the robot within the environment using the keyboard. In order to be able to move the robot via the keyboard, it may be useful to exploit the keyboard teleop program 

\doxysubsection{Function Documentation}
\mbox{\Hypertarget{_m_o_d_e2_8cpp_af5978fab9fa6dd4ced1c3a8ab1251f7b}\label{_m_o_d_e2_8cpp_af5978fab9fa6dd4ced1c3a8ab1251f7b}} 
\index{MODE2.cpp@{MODE2.cpp}!getch@{getch}}
\index{getch@{getch}!MODE2.cpp@{MODE2.cpp}}
\doxysubsubsection{\texorpdfstring{getch()}{getch()}}
{\footnotesize\ttfamily int getch (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}

Function to avoid input blocking

return the character choosen by the keyboard

This function manages user-\/generated keyboard inputs by preventing them from blocking\mbox{\Hypertarget{_m_o_d_e2_8cpp_a707311ac31b1d2e00c843eae201a6536}\label{_m_o_d_e2_8cpp_a707311ac31b1d2e00c843eae201a6536}} 
\index{MODE2.cpp@{MODE2.cpp}!key@{key}}
\index{key@{key}!MODE2.cpp@{MODE2.cpp}}
\doxysubsubsection{\texorpdfstring{key()}{key()}}
{\footnotesize\ttfamily char key (\begin{DoxyParamCaption}\item[{\textquotesingle{} \textquotesingle{}}]{ }\end{DoxyParamCaption})}



Character. 

\mbox{\Hypertarget{_m_o_d_e2_8cpp_a3c04138a5bfe5d72780bb7e82a18e627}\label{_m_o_d_e2_8cpp_a3c04138a5bfe5d72780bb7e82a18e627}} 
\index{MODE2.cpp@{MODE2.cpp}!main@{main}}
\index{main@{main}!MODE2.cpp@{MODE2.cpp}}
\doxysubsubsection{\texorpdfstring{main()}{main()}}
{\footnotesize\ttfamily int main (\begin{DoxyParamCaption}\item[{int}]{argc,  }\item[{char $\ast$$\ast$}]{argv }\end{DoxyParamCaption})}

\mbox{\Hypertarget{_m_o_d_e2_8cpp_a0c412d48ccdce40e00c45eae6a90f28a}\label{_m_o_d_e2_8cpp_a0c412d48ccdce40e00c45eae6a90f28a}} 
\index{MODE2.cpp@{MODE2.cpp}!speed@{speed}}
\index{speed@{speed}!MODE2.cpp@{MODE2.cpp}}
\doxysubsubsection{\texorpdfstring{speed()}{speed()}}
{\footnotesize\ttfamily float speed (\begin{DoxyParamCaption}\item[{0.}]{5 }\end{DoxyParamCaption})}

\mbox{\Hypertarget{_m_o_d_e2_8cpp_afef03081108b5ffbbf11854a62083891}\label{_m_o_d_e2_8cpp_afef03081108b5ffbbf11854a62083891}} 
\index{MODE2.cpp@{MODE2.cpp}!Teleop@{Teleop}}
\index{Teleop@{Teleop}!MODE2.cpp@{MODE2.cpp}}
\doxysubsubsection{\texorpdfstring{Teleop()}{Teleop()}}
{\footnotesize\ttfamily void Teleop (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

Function to control the robot

This function allows the robot to move according to commands given by the user\mbox{\Hypertarget{_m_o_d_e2_8cpp_ad5ac4dec8b4343953b42a1e86edb874e}\label{_m_o_d_e2_8cpp_ad5ac4dec8b4343953b42a1e86edb874e}} 
\index{MODE2.cpp@{MODE2.cpp}!th@{th}}
\index{th@{th}!MODE2.cpp@{MODE2.cpp}}
\doxysubsubsection{\texorpdfstring{th()}{th()}}
{\footnotesize\ttfamily float th (\begin{DoxyParamCaption}\item[{0}]{ }\end{DoxyParamCaption})}

\mbox{\Hypertarget{_m_o_d_e2_8cpp_addb83adac8170dcb113acaf93aeccf82}\label{_m_o_d_e2_8cpp_addb83adac8170dcb113acaf93aeccf82}} 
\index{MODE2.cpp@{MODE2.cpp}!turn@{turn}}
\index{turn@{turn}!MODE2.cpp@{MODE2.cpp}}
\doxysubsubsection{\texorpdfstring{turn()}{turn()}}
{\footnotesize\ttfamily float turn (\begin{DoxyParamCaption}\item[{1.}]{0 }\end{DoxyParamCaption})}

\mbox{\Hypertarget{_m_o_d_e2_8cpp_a58456ccdd2b0d0e7ebb96c0a2ec7ec6f}\label{_m_o_d_e2_8cpp_a58456ccdd2b0d0e7ebb96c0a2ec7ec6f}} 
\index{MODE2.cpp@{MODE2.cpp}!x@{x}}
\index{x@{x}!MODE2.cpp@{MODE2.cpp}}
\doxysubsubsection{\texorpdfstring{x()}{x()}}
{\footnotesize\ttfamily float x (\begin{DoxyParamCaption}\item[{0}]{ }\end{DoxyParamCaption})}

\mbox{\Hypertarget{_m_o_d_e2_8cpp_a2795aa30f97a85f1d013e24f6292a51e}\label{_m_o_d_e2_8cpp_a2795aa30f97a85f1d013e24f6292a51e}} 
\index{MODE2.cpp@{MODE2.cpp}!y@{y}}
\index{y@{y}!MODE2.cpp@{MODE2.cpp}}
\doxysubsubsection{\texorpdfstring{y()}{y()}}
{\footnotesize\ttfamily float y (\begin{DoxyParamCaption}\item[{0}]{ }\end{DoxyParamCaption})}

\mbox{\Hypertarget{_m_o_d_e2_8cpp_aec5d3cf4e6cb26ab7be21502b97087c9}\label{_m_o_d_e2_8cpp_aec5d3cf4e6cb26ab7be21502b97087c9}} 
\index{MODE2.cpp@{MODE2.cpp}!z@{z}}
\index{z@{z}!MODE2.cpp@{MODE2.cpp}}
\doxysubsubsection{\texorpdfstring{z()}{z()}}
{\footnotesize\ttfamily float z (\begin{DoxyParamCaption}\item[{0}]{ }\end{DoxyParamCaption})}



\doxysubsection{Variable Documentation}
\mbox{\Hypertarget{_m_o_d_e2_8cpp_a91023ea7582580513b585f7b4c15f7d8}\label{_m_o_d_e2_8cpp_a91023ea7582580513b585f7b4c15f7d8}} 
\index{MODE2.cpp@{MODE2.cpp}!moveBindings@{moveBindings}}
\index{moveBindings@{moveBindings}!MODE2.cpp@{MODE2.cpp}}
\doxysubsubsection{\texorpdfstring{moveBindings}{moveBindings}}
{\footnotesize\ttfamily std\+::map$<$char, std\+::vector$<$float$>$ $>$ move\+Bindings}

{\bfseries Initial value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{\{}
\DoxyCodeLine{  \{\textcolor{charliteral}{'i'}, \{1, 0, 0, 0\}\},}
\DoxyCodeLine{  \{\textcolor{charliteral}{'o'}, \{1, 0, 0, -\/1\}\},}
\DoxyCodeLine{  \{\textcolor{charliteral}{'j'}, \{0, 0, 0, 1\}\},}
\DoxyCodeLine{  \{\textcolor{charliteral}{'l'}, \{0, 0, 0, -\/1\}\},}
\DoxyCodeLine{  \{\textcolor{charliteral}{'u'}, \{1, 0, 0, 1\}\},}
\DoxyCodeLine{  \{\textcolor{charliteral}{','}, \{-\/1, 0, 0, 0\}\},}
\DoxyCodeLine{  \{\textcolor{charliteral}{'.'}, \{-\/1, 0, 0, 1\}\},}
\DoxyCodeLine{  \{\textcolor{charliteral}{'m'}, \{-\/1, 0, 0, -\/1\}\},}
\DoxyCodeLine{  \{\textcolor{charliteral}{'O'}, \{1, -\/1, 0, 0\}\},}
\DoxyCodeLine{  \{\textcolor{charliteral}{'I'}, \{1, 0, 0, 0\}\},}
\DoxyCodeLine{  \{\textcolor{charliteral}{'J'}, \{0, 1, 0, 0\}\},}
\DoxyCodeLine{  \{\textcolor{charliteral}{'L'}, \{0, -\/1, 0, 0\}\},}
\DoxyCodeLine{  \{\textcolor{charliteral}{'U'}, \{1, 1, 0, 0\}\},}
\DoxyCodeLine{  \{\textcolor{charliteral}{'<'}, \{-\/1, 0, 0, 0\}\},}
\DoxyCodeLine{  \{\textcolor{charliteral}{'>'}, \{-\/1, -\/1, 0, 0\}\},}
\DoxyCodeLine{  \{\textcolor{charliteral}{'M'}, \{-\/1, 1, 0, 0\}\},}
\DoxyCodeLine{  \{\textcolor{charliteral}{'t'}, \{0, 0, 1, 0\}\},}
\DoxyCodeLine{  \{\textcolor{charliteral}{'b'}, \{0, 0, -\/1, 0\}\},}
\DoxyCodeLine{  \{\textcolor{charliteral}{'k'}, \{0, 0, 0, 0\}\},}
\DoxyCodeLine{  \{\textcolor{charliteral}{'K'}, \{0, 0, 0, 0\}\}}
\DoxyCodeLine{\}}

\end{DoxyCode}


$<$ Matrix for movement 

\mbox{\Hypertarget{_m_o_d_e2_8cpp_a2c3cb87d009c003069b9a90f020f8a9f}\label{_m_o_d_e2_8cpp_a2c3cb87d009c003069b9a90f020f8a9f}} 
\index{MODE2.cpp@{MODE2.cpp}!msg@{msg}}
\index{msg@{msg}!MODE2.cpp@{MODE2.cpp}}
\doxysubsubsection{\texorpdfstring{msg}{msg}}
{\footnotesize\ttfamily const char$\ast$ msg}

{\bfseries Initial value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{= R\textcolor{stringliteral}{"(}}
\DoxyCodeLine{\textcolor{stringliteral}{  Reading from the keyboard and Publishing to Twist!}}
\DoxyCodeLine{\textcolor{stringliteral}{  -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\textcolor{stringliteral}{  Moving around:}}
\DoxyCodeLine{\textcolor{stringliteral}{     u    i    o}}
\DoxyCodeLine{\textcolor{stringliteral}{     j    k    l}}
\DoxyCodeLine{\textcolor{stringliteral}{     m    ,    .}}
\DoxyCodeLine{\textcolor{stringliteral}{}}
\DoxyCodeLine{\textcolor{stringliteral}{  For Holonomic mode (strafing), hold down the shift key:}}
\DoxyCodeLine{\textcolor{stringliteral}{  -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\textcolor{stringliteral}{     U    I    O}}
\DoxyCodeLine{\textcolor{stringliteral}{     J    K    L}}
\DoxyCodeLine{\textcolor{stringliteral}{     M    <    >}}
\DoxyCodeLine{\textcolor{stringliteral}{}}
\DoxyCodeLine{\textcolor{stringliteral}{  t : up (+z)}}
\DoxyCodeLine{\textcolor{stringliteral}{  b : down (-\/z)}}
\DoxyCodeLine{\textcolor{stringliteral}{}}
\DoxyCodeLine{\textcolor{stringliteral}{  anything else : stop}}
\DoxyCodeLine{\textcolor{stringliteral}{}}
\DoxyCodeLine{\textcolor{stringliteral}{  q/z : increase/decrease max speeds by 10\%}}
\DoxyCodeLine{\textcolor{stringliteral}{  w/x : increase/decrease only linear speed by 10\%}}
\DoxyCodeLine{\textcolor{stringliteral}{  e/c : increase/decrease only angular speed by 10\%}}
\DoxyCodeLine{\textcolor{stringliteral}{}}
\DoxyCodeLine{\textcolor{stringliteral}{  CTRL-\/C to return to the user interface}}
\DoxyCodeLine{\textcolor{stringliteral}{  )"}}

\end{DoxyCode}
\mbox{\Hypertarget{_m_o_d_e2_8cpp_a350594df3e8f6948c8462edfd41ce086}\label{_m_o_d_e2_8cpp_a350594df3e8f6948c8462edfd41ce086}} 
\index{MODE2.cpp@{MODE2.cpp}!pub@{pub}}
\index{pub@{pub}!MODE2.cpp@{MODE2.cpp}}
\doxysubsubsection{\texorpdfstring{pub}{pub}}
{\footnotesize\ttfamily ros\+::\+Publisher pub}

\mbox{\Hypertarget{_m_o_d_e2_8cpp_a942d4f1c3e151d6f264d0868766b08b0}\label{_m_o_d_e2_8cpp_a942d4f1c3e151d6f264d0868766b08b0}} 
\index{MODE2.cpp@{MODE2.cpp}!speedBindings@{speedBindings}}
\index{speedBindings@{speedBindings}!MODE2.cpp@{MODE2.cpp}}
\doxysubsubsection{\texorpdfstring{speedBindings}{speedBindings}}
{\footnotesize\ttfamily std\+::map$<$char, std\+::vector$<$float$>$ $>$ speed\+Bindings}

{\bfseries Initial value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{\{}
\DoxyCodeLine{  \{\textcolor{charliteral}{'q'}, \{1.1, 1.1\}\},}
\DoxyCodeLine{  \{\textcolor{charliteral}{'z'}, \{0.9, 0.9\}\},}
\DoxyCodeLine{  \{\textcolor{charliteral}{'w'}, \{1.1, 1\}\},}
\DoxyCodeLine{  \{\textcolor{charliteral}{'x'}, \{0.9, 1\}\},}
\DoxyCodeLine{  \{\textcolor{charliteral}{'e'}, \{1, 1.1\}\},}
\DoxyCodeLine{  \{\textcolor{charliteral}{'c'}, \{1, 0.9\}\}}
\DoxyCodeLine{\}}

\end{DoxyCode}


$<$ Matrix for speed 

